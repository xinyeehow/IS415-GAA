[
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html",
    "title": "Take-Home Exercise 01",
    "section": "",
    "text": "Getting packages\n\npacman::p_load(sf, tidyverse, funModeling, ggplot2)\n\nImporting data - Geospatial\n\ngeoNGA <- st_read(\"data/geoBoundaries/\",\n                  layer = \"geoBoundaries-NGA-ADM2\") %>%\n  st_transform(crs = 26392)\n\nReading layer `geoBoundaries-NGA-ADM2' from data source \n  `C:\\xinyeehow\\IS415-GAA\\Take-Home_Ex\\Take-Home_Ex01\\data\\geoBoundaries' \n  using driver `ESRI Shapefile'\nSimple feature collection with 774 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2.668534 ymin: 4.273007 xmax: 14.67882 ymax: 13.89442\nGeodetic CRS:  WGS 84\n\n\n\nNGA <- st_read(\"data/\",\n               layer = \"nga_admbnda_adm2_osgof_20190417\") %>%\n  st_transform(crs = 26392)\n\nReading layer `nga_admbnda_adm2_osgof_20190417' from data source \n  `C:\\xinyeehow\\IS415-GAA\\Take-Home_Ex\\Take-Home_Ex01\\data' using driver `ESRI Shapefile'\nSimple feature collection with 774 features and 16 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2.668534 ymin: 4.273007 xmax: 14.67882 ymax: 13.89442\nGeodetic CRS:  WGS 84\n\n\nExtract Osun state from Nigeria\n\nosun <- st_read(dsn = \"data/\", \n               layer = \"nga_admbnda_adm2_osgof_20190417\") %>%\n      filter(`ADM1_EN` == \"Osun\") %>%\n      st_transform(crs = 26392)\n\nReading layer `nga_admbnda_adm2_osgof_20190417' from data source \n  `C:\\xinyeehow\\IS415-GAA\\Take-Home_Ex\\Take-Home_Ex01\\data' using driver `ESRI Shapefile'\nSimple feature collection with 774 features and 16 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2.668534 ymin: 4.273007 xmax: 14.67882 ymax: 13.89442\nGeodetic CRS:  WGS 84\n\n\nExamining Osun layer\n\nosun\n\nSimple feature collection with 30 features and 16 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 176503.2 ymin: 331434.7 xmax: 291043.8 ymax: 454520.1\nProjected CRS: Minna / Nigeria Mid Belt\nFirst 10 features:\n   Shape_Leng  Shape_Area        ADM2_EN ADM2_PCODE       ADM2_REF ADM2ALT1EN\n1   1.7951405 0.062436080       Aiyedade   NG030001       Aiyedade       <NA>\n2   0.7101503 0.024818478       Aiyedire   NG030002       Aiyedire       <NA>\n3   0.9199564 0.038002894 Atakumosa East   NG030003 Atakumosa East       <NA>\n4   0.8502782 0.030445804 Atakumosa West   NG030004 Atakumosa West       <NA>\n5   0.5212768 0.012213340     Boluwaduro   NG030005     Boluwaduro       <NA>\n6   0.6088930 0.011827501         Boripe   NG030006         Boripe       <NA>\n7   0.4714403 0.008343638      Ede North   NG030007      Ede North       <NA>\n8   0.5660235 0.017623677      Ede South   NG030008      Ede South       <NA>\n9   0.8273123 0.022026327       Egbedore   NG030009       Egbedore       <NA>\n10  1.1304849 0.029791275         Ejigbo   NG030010         Ejigbo       <NA>\n   ADM2ALT2EN ADM1_EN ADM1_PCODE ADM0_EN ADM0_PCODE       date    validOn\n1        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n2        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n3        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n4        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n5        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n6        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n7        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n8        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n9        <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n10       <NA>    Osun      NG030 Nigeria         NG 2016-11-29 2019-04-17\n   validTo        SD_EN SD_PCODE                       geometry\n1     <NA>    Osun West  NG03003 MULTIPOLYGON (((213526.6 34...\n2     <NA>    Osun West  NG03003 MULTIPOLYGON (((212542.6 40...\n3     <NA>    Osun East  NG03002 MULTIPOLYGON (((265746.8 37...\n4     <NA>    Osun East  NG03002 MULTIPOLYGON (((248871.4 40...\n5     <NA> Osun Central  NG03001 MULTIPOLYGON (((266092.2 43...\n6     <NA> Osun Central  NG03001 MULTIPOLYGON (((255072.5 43...\n7     <NA>    Osun West  NG03003 MULTIPOLYGON (((236386.9 41...\n8     <NA>    Osun West  NG03003 MULTIPOLYGON (((236386.9 41...\n9     <NA>    Osun West  NG03003 MULTIPOLYGON (((220756 4317...\n10    <NA>    Osun West  NG03003 MULTIPOLYGON (((214422.1 42...\n\n\nImporting data - Aspatial\n\nwp_nga <- read_csv(\"data/WPdx.csv\") %>%\n  filter(`#clean_country_name` == \"Nigeria\", `#clean_adm1` == \"Osun\")\n\nExamining the filtered waterpoint layer\n\nglimpse(wp_nga)\n\nRows: 5,557\nColumns: 70\n$ row_id                        <dbl> 429123, 70566, 70578, 66401, 422190, 422…\n$ `#source`                     <chr> \"GRID3\", \"Federal Ministry of Water Reso…\n$ `#lat_deg`                    <dbl> 8.020000, 7.317741, 7.759448, 8.031187, …\n$ `#lon_deg`                    <dbl> 5.060000, 4.785507, 4.563998, 4.637400, …\n$ `#report_date`                <chr> \"08/29/2018 12:00:00 AM\", \"05/11/2015 12…\n$ `#status_id`                  <chr> \"Unknown\", \"No\", \"No\", \"No\", \"Unknown\", …\n$ `#water_source_clean`         <chr> NA, \"Protected Shallow Well\", \"Borehole\"…\n$ `#water_source_category`      <chr> NA, \"Well\", \"Well\", \"Well\", NA, NA, \"Wel…\n$ `#water_tech_clean`           <chr> \"Tapstand\", \"Mechanized Pump\", \"Mechaniz…\n$ `#water_tech_category`        <chr> \"Tapstand\", \"Mechanized Pump\", \"Mechaniz…\n$ `#facility_type`              <chr> \"Improved\", \"Improved\", \"Improved\", \"Imp…\n$ `#clean_country_name`         <chr> \"Nigeria\", \"Nigeria\", \"Nigeria\", \"Nigeri…\n$ `#clean_adm1`                 <chr> \"Osun\", \"Osun\", \"Osun\", \"Osun\", \"Osun\", …\n$ `#clean_adm2`                 <chr> \"Ifedayo\", \"Atakumosa East\", \"Osogbo\", \"…\n$ `#clean_adm3`                 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#clean_adm4`                 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#install_year`               <dbl> NA, NA, NA, 2004, NA, NA, 2006, 2014, 20…\n$ `#installer`                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#rehab_year`                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#rehabilitator`              <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#management_clean`           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, \"Com…\n$ `#status_clean`               <chr> NA, \"Abandoned/Decommissioned\", \"Abandon…\n$ `#pay`                        <chr> NA, \"No\", \"No\", \"No\", NA, NA, \"No\", \"No\"…\n$ `#fecal_coliform_presence`    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#fecal_coliform_value`       <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#subjective_quality`         <chr> NA, \"Acceptable quality\", \"Acceptable qu…\n$ `#activity_id`                <chr> \"6054e946-2573-45bf-ab7c-0ddaa68a61b4\", …\n$ `#scheme_id`                  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#wpdx_id`                    <chr> \"6FW723C6+222\", \"6FV68Q9P+36R\", \"6FV6QH5…\n$ `#notes`                      <chr> \"Rt Hon Kola Oluwawole Water Tap\", \"Temi…\n$ `#orig_lnk`                   <chr> \"https://nigeria.africageoportal.com/dat…\n$ `#photo_lnk`                  <chr> NA, \"https://akvoflow-55.s3.amazonaws.co…\n$ `#country_id`                 <chr> \"NG\", \"NG\", \"NG\", \"NG\", \"NG\", \"NG\", \"NG\"…\n$ `#data_lnk`                   <chr> \"https://catalog.waterpointdata.org/data…\n$ `#distance_to_primary_road`   <dbl> 4474.22234, 10130.42742, 167.82235, 4133…\n$ `#distance_to_secondary_road` <dbl> 1883.98780, 17466.35720, 838.91849, 1162…\n$ `#distance_to_tertiary_road`  <dbl> 1885.874322, 2376.832183, 1181.107236, 9…\n$ `#distance_to_city`           <dbl> 40100.268, 31549.222, 2449.293, 16704.19…\n$ `#distance_to_town`           <dbl> 8120.871, 24652.907, 9463.295, 5176.899,…\n$ water_point_history           <chr> \"{\\\"2018-08-29\\\": {\\\"source\\\": \\\"GRID3\\\"…\n$ rehab_priority                <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ water_point_population        <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 0, 508, …\n$ local_population_1km          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, 70, 647,…\n$ crucialness_score             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 0.78…\n$ pressure_score                <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.69…\n$ usage_capacity                <dbl> 250, 1000, 1000, 1000, 250, 250, 1000, 3…\n$ is_urban                      <lgl> FALSE, FALSE, TRUE, FALSE, FALSE, FALSE,…\n$ days_since_report             <dbl> 1483, 2689, 2689, 2700, 1483, 1483, 2688…\n$ staleness_score               <dbl> 62.65911, 42.84384, 42.84384, 42.69554, …\n$ latest_record                 <lgl> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…\n$ location_id                   <dbl> 358783, 239555, 239556, 230405, 358062, …\n$ cluster_size                  <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ `#clean_country_id`           <chr> \"NGA\", \"NGA\", \"NGA\", \"NGA\", \"NGA\", \"NGA\"…\n$ `#country_name`               <chr> \"Nigeria\", \"Nigeria\", \"Nigeria\", \"Nigeri…\n$ `#water_source`               <chr> \"Tap\", \"Improved Protected dug well\", \"I…\n$ `#water_tech`                 <chr> NA, \"Motorised\", \"Motorised\", \"Motorised…\n$ `#status`                     <chr> NA, \"Non-functional Abandoned\", \"Non-fun…\n$ `#adm2`                       <chr> NA, \"Atakumosa East\", \"Osogbo\", \"Odo-Oti…\n$ `#adm3`                       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ `#management`                 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, \"Com…\n$ `#adm1`                       <chr> NA, \"Osun\", \"Osun\", \"Osun\", NA, NA, \"Osu…\n$ `New Georeferenced Column`    <chr> \"POINT (5.06 8.02)\", \"POINT (4.7855068 7…\n$ lat_deg_original              <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ lat_lon_deg                   <chr> \"(8.02°, 5.06°)\", \"(7.3177411°, 4.785506…\n$ lon_deg_original              <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ public_data_source            <chr> \"https://catalog.waterpointdata.org/data…\n$ converted                     <chr> NA, \"#status_id, #water_source, #pay, #s…\n$ count                         <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ created_timestamp             <chr> \"12/06/2021 09:12:57 PM\", \"06/30/2020 12…\n$ updated_timestamp             <chr> \"12/06/2021 09:12:57 PM\", \"06/30/2020 12…\n\n\nConverting Aspatial to Geospatial data\n\nwp_nga$Geometry = st_as_sfc(wp_nga$`New Georeferenced Column`)\n\n\n#wp_nga = st_as_sf(wp_nga, coords = c(\"lat_deg\", \"lon_deg\"),crs=4326)\n#wp_nga\n\n\nwp_sf <- st_sf(wp_nga, crs=4326)\nst_geometry(wp_sf)\n\nGeometry set for 5557 features \nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: 4.032004 ymin: 7.060309 xmax: 5.06 ymax: 8.061898\nGeodetic CRS:  WGS 84\nFirst 5 geometries:\n\n\nExtracting waterpoints in Osun area\nTransforming project\n\nwp_sf <- wp_sf %>%\n  st_transform(crs = 26392)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#data-cleaning",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#data-cleaning",
    "title": "Take-Home Exercise 01",
    "section": "Data Cleaning",
    "text": "Data Cleaning\nChecking for duplicate name\n\nNGA$ADM2_EN[duplicated(NGA$ADM2_EN)==TRUE]\n\n[1] \"Bassa\"    \"Ifelodun\" \"Irepodun\" \"Nasarawa\" \"Obi\"      \"Surulere\"\n\n\nCorrecting errors\n\nNGA$ADM2_EN[94] <- \"Bassa, Kogi\"\nNGA$ADM2_EN[95] <- \"Bassa, Plateau\"\nNGA$ADM2_EN[304] <- \"Ifelodun, Kwara\"\nNGA$ADM2_EN[305] <- \"Ifelodun, Osun\"\nNGA$ADM2_EN[355] <- \"Irepodun, Kwara\"\nNGA$ADM2_EN[356] <- \"Irepodun, Osun\"\nNGA$ADM2_EN[519] <- \"Nasarawa, Kano\"\nNGA$ADM2_EN[520] <- \"Nasarawa, Nasarawa\"\nNGA$ADM2_EN[546] <- \"Obi, Benue\"\nNGA$ADM2_EN[547] <- \"Obi, Nasarawa\"\nNGA$ADM2_EN[693] <- \"Surulere, Lagos\"\nNGA$ADM2_EN[694] <- \"Surulere, Oyo\"\n\n\nNGA$ADM2_EN[duplicated(NGA$ADM2_EN)==TRUE]\n\ncharacter(0)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#data-wrangling-water-point-data",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#data-wrangling-water-point-data",
    "title": "Take-Home Exercise 01",
    "section": "Data Wrangling (water point data)",
    "text": "Data Wrangling (water point data)\nBar graph of water status according to cleanliness of water\n\nggplot(wp_sf) + geom_bar(aes(y = fct_infreq(`#status_clean`), fill=`#status_clean`, stat=\"identity\"))+  theme(legend.position = \"right\")"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#categorising-functional-and-non-functional-water-points",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#categorising-functional-and-non-functional-water-points",
    "title": "Take-Home Exercise 01",
    "section": "Categorising functional and non-functional water points",
    "text": "Categorising functional and non-functional water points\nFunctional\n\nwp_functional <- wp_sf %>%\n  filter(`#status_clean` %in%\n           c(\"Functional\",\n             \"Functional but not in use\",\n             \"Functional but needs repair\"))\n\n\nggplot(wp_functional) + geom_bar(aes(y = fct_infreq(`#status_clean`), fill=`#status_clean`, stat=\"identity\"))+  theme(legend.position = \"right\")\n\n\n\n\nNon-functional\n\nwp_nonfunctional <- wp_sf %>%\n  filter(`#status_clean` %in%\n           c(\"Abandoned/Decommissioned\",\n             \"Abandoned\",\n             \"Non-Functional due to dry season\",\n             \"Non-Functional\",\n             \"Non functional due to dry season\"))\n\n\nggplot(wp_nonfunctional) + geom_bar(aes(y = fct_infreq(`#status_clean`), fill=`#status_clean`, stat=\"identity\"))+  theme(legend.position = \"right\")\n\n\n\n\nSaving data\n\nwrite_rds(wp_sf, \"data/rds/wp_sf.rds\")\n\n\nKernel density maps of functional and non-functional water points using appropriate tmap functions\nLoading packages\n\npacman::p_load(maptools, sf, raster, spatstat, tmap)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#converting-sf-data-frames-to-sps-spatial-class",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#converting-sf-data-frames-to-sps-spatial-class",
    "title": "Take-Home Exercise 01",
    "section": "Converting sf data frames to sp’s Spatial* class",
    "text": "Converting sf data frames to sp’s Spatial* class\n\nwp_functional_sf <- as_Spatial(wp_functional)\nwp_nonfunctional_sf <- as_Spatial(wp_nonfunctional)\nNGA_sf <- as_Spatial(NGA)\nosun_sf <- as_Spatial(osun)\n\n\nwp_functional_sf\n\nclass       : SpatialPointsDataFrame \nfeatures    : 2630 \nextent      : 177285.9, 290751, 343128.1, 450859.7  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \nvariables   : 70\nnames       : row_id,                                     X.source, X.lat_deg, X.lon_deg,          X.report_date, X.status_id, X.water_source_clean, X.water_source_category,      X.water_tech_clean, X.water_tech_category, X.facility_type, X.clean_country_name, X.clean_adm1, X.clean_adm2, X.clean_adm3, ... \nmin values  :  36914, Federal Ministry of Water Resources, Nigeria, 7.0890301, 4.0320038, 01/01/2010 12:00:00 AM,     Unknown,             Borehole,                  Spring,               Hand Pump,             Hand Pump,        Improved,              Nigeria,         Osun,     Aiyedade,           NA, ... \nmax values  : 471319,                                        GRID3, 8.0618983, 5.0550034, 09/16/2015 12:00:00 AM,         Yes,     Protected Spring,                    Well, Mechanized Pump - Solar,       Mechanized Pump,        Improved,              Nigeria,         Osun,       Osogbo,           NA, ... \n\n\n\nwp_nonfunctional_sf\n\nclass       : SpatialPointsDataFrame \nfeatures    : 2179 \nextent      : 180539, 290616, 340054.1, 450780.1  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \nvariables   : 70\nnames       : row_id,                                     X.source, X.lat_deg, X.lon_deg,          X.report_date, X.status_id, X.water_source_clean, X.water_source_category,      X.water_tech_clean, X.water_tech_category, X.facility_type, X.clean_country_name, X.clean_adm1, X.clean_adm2, X.clean_adm3, ... \nmin values  :  34829, Federal Ministry of Water Resources, Nigeria,  7.060309, 4.0618927, 01/10/2015 12:00:00 AM,          No,             Borehole,                  Spring,               Hand Pump,             Hand Pump,        Improved,              Nigeria,         Osun,     Aiyedade,           NA, ... \nmax values  : 421239,                                        GRID3, 8.0611733, 5.0537867, 09/16/2015 12:00:00 AM,         Yes,     Protected Spring,                    Well, Mechanized Pump - Solar,       Mechanized Pump,        Improved,              Nigeria,         Osun,       Osogbo,           NA, ... \n\n\n\nNGA_sf\n\nclass       : SpatialPolygonsDataFrame \nfeatures    : 774 \nextent      : 26662.71, 1344157, 30523.38, 1096029  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \nvariables   : 16\nnames       :    Shape_Leng,        Shape_Area,   ADM2_EN, ADM2_PCODE,  ADM2_REF, ADM2ALT1EN, ADM2ALT2EN, ADM1_EN, ADM1_PCODE, ADM0_EN, ADM0_PCODE,  date, validOn, validTo,        SD_EN, ... \nmin values  :    0.10410787, 0.000342186810984, Aba North,   NG001001, Aba North,         NA,         NA,    Abia,      NG001, Nigeria,         NG, 17134,   18003,      NA, Abia Central, ... \nmax values  : 6.76815542887,    0.929069095283,      Zuru,   NG037014,      Zuru,         NA,         NA, Zamfara,      NG037, Nigeria,         NG, 17134,   18003,      NA, Zamfara West, ... \n\n\n\nosun_sf\n\nclass       : SpatialPolygonsDataFrame \nfeatures    : 30 \nextent      : 176503.2, 291043.8, 331434.7, 454520.1  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \nvariables   : 16\nnames       :    Shape_Leng,       Shape_Area,  ADM2_EN, ADM2_PCODE, ADM2_REF, ADM2ALT1EN, ADM2ALT2EN, ADM1_EN, ADM1_PCODE, ADM0_EN, ADM0_PCODE,  date, validOn, validTo,        SD_EN, ... \nmin values  : 0.26445678806, 0.00248649736648, Aiyedade,   NG030001, Aiyedade,         NA,         NA,    Osun,      NG030, Nigeria,         NG, 17134,   18003,      NA, Osun Central, ... \nmax values  :  1.8470166597,  0.0737271661922,   Osogbo,   NG030030,   Osogbo,         NA,         NA,    Osun,      NG030, Nigeria,         NG, 17134,   18003,      NA,    Osun West, ..."
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#converting-spatial-class-into-generic-sp-format",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#converting-spatial-class-into-generic-sp-format",
    "title": "Take-Home Exercise 01",
    "section": "Converting spatial class into generic sp format",
    "text": "Converting spatial class into generic sp format\n\nwp_functional_sp <- as(wp_functional_sf, \"SpatialPoints\")\nwp_nonfunctional_sp <- as(wp_nonfunctional_sf, \"SpatialPoints\")\nNGA_sp <- as(NGA_sf, \"SpatialPolygons\")\nosun_sp <- as(osun_sf, \"SpatialPolygons\")\n\n\nwp_functional_sp\n\nclass       : SpatialPoints \nfeatures    : 2630 \nextent      : 177285.9, 290751, 343128.1, 450859.7  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \n\n\n\nwp_nonfunctional_sp\n\nclass       : SpatialPoints \nfeatures    : 2179 \nextent      : 180539, 290616, 340054.1, 450780.1  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \n\n\n\nNGA_sp\n\nclass       : SpatialPolygons \nfeatures    : 774 \nextent      : 26662.71, 1344157, 30523.38, 1096029  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \n\n\n\nosun_sp\n\nclass       : SpatialPolygons \nfeatures    : 30 \nextent      : 176503.2, 291043.8, 331434.7, 454520.1  (xmin, xmax, ymin, ymax)\ncrs         : +proj=tmerc +lat_0=4 +lon_0=8.5 +k=0.99975 +x_0=670553.98 +y_0=0 +a=6378249.145 +rf=293.465 +towgs84=-92,-93,122,0,0,0,0 +units=m +no_defs \n\n\n\nConverting generic sp format into spatstat’s ppp format\n\nwp_functional_ppp <- as(wp_functional_sp, \"ppp\")\nwp_functional_ppp\n\nPlanar point pattern: 2630 points\nwindow: rectangle = [177285.9, 290750.96] x [343128.1, 450859.7] units\n\n\n\nwp_nonfunctional_ppp <- as(wp_nonfunctional_sp, \"ppp\")\nwp_nonfunctional_ppp\n\nPlanar point pattern: 2179 points\nwindow: rectangle = [180538.96, 290616] x [340054.1, 450780.1] units\n\n\nPlotting ppp points\n\nplot(wp_functional_ppp)\n\n\n\n\n\nplot(wp_nonfunctional_ppp)\n\n\n\n\nSummary statistics\n\nsummary(wp_functional_ppp)\n\nPlanar point pattern:  2630 points\nAverage intensity 2.151545e-07 points per square unit\n\nCoordinates are given to 2 decimal places\ni.e. rounded to the nearest multiple of 0.01 units\n\nWindow: rectangle = [177285.9, 290750.96] x [343128.1, 450859.7] units\n                    (113500 x 107700 units)\nWindow area = 12223800000 square units\n\n\n\nsummary(wp_nonfunctional_ppp)\n\nPlanar point pattern:  2179 points\nAverage intensity 1.787766e-07 points per square unit\n\nCoordinates are given to 2 decimal places\ni.e. rounded to the nearest multiple of 0.01 units\n\nWindow: rectangle = [180538.96, 290616] x [340054.1, 450780.1] units\n                    (110100 x 110700 units)\nWindow area = 12188400000 square units\n\n\nChecking for duplicates\n\nany(duplicated(wp_functional_ppp))\n\n[1] FALSE\n\n\n\nany(duplicated(wp_nonfunctional_ppp))\n\n[1] FALSE\n\n\nCreating owin object\n\nNGA_owin <- as(NGA_sp, \"owin\")\nosun_owin <- as(osun_sp, \"owin\")\n\n\nplot(NGA_owin)\n\n\n\nplot(osun_owin)\n\n\n\n\nChecking on owin summary statistics\n\nsummary(NGA_owin)\n\nWindow: polygonal boundary\n794 separate polygons (3 holes)\n                   vertices        area relative.area\npolygon 1                70    18683300      2.05e-05\npolygon 2                78    43293900      4.75e-05\npolygon 3               503  3940900000      4.32e-03\npolygon 4               214   832227000      9.13e-04\npolygon 5               150   178106000      1.95e-04\npolygon 6               192   463153000      5.08e-04\npolygon 7               162   774689000      8.50e-04\npolygon 8               101    56726500      6.22e-05\npolygon 9               152   267817000      2.94e-04\npolygon 10              218   176198000      1.93e-04\npolygon 11              123   716544000      7.86e-04\npolygon 12               83  1722530000      1.89e-03\npolygon 13              133   713922000      7.83e-04\npolygon 14              176  1186460000      1.30e-03\npolygon 15              192   861280000      9.45e-04\npolygon 16               80   362066000      3.97e-04\npolygon 17               80   333130000      3.65e-04\npolygon 18               97   239038000      2.62e-04\npolygon 19              104   376914000      4.13e-04\npolygon 20              145  1921460000      2.11e-03\npolygon 21               74  1047270000      1.15e-03\npolygon 22               51    11565800      1.27e-05\npolygon 23              140   173516000      1.90e-04\npolygon 24               79  1477800000      1.62e-03\npolygon 25              151   113895000      1.25e-04\npolygon 26               92   318329000      3.49e-04\npolygon 27               92   440715000      4.83e-04\npolygon 28              204   766084000      8.40e-04\npolygon 29               81   304399000      3.34e-04\npolygon 30               92   435478000      4.78e-04\npolygon 31              109  1381750000      1.52e-03\npolygon 32               64    12853400      1.41e-05\npolygon 33              247   714085000      7.83e-04\npolygon 34              324  5026000000      5.51e-03\npolygon 35              100   600214000      6.58e-04\npolygon 36              206  2456020000      2.69e-03\npolygon 37              352  1343180000      1.47e-03\npolygon 38              118   344533000      3.78e-04\npolygon 39              127   570176000      6.25e-04\npolygon 40               95   222379000      2.44e-04\npolygon 41              101   490727000      5.38e-04\npolygon 42              666   793051000      8.70e-04\npolygon 43              139  1247500000      1.37e-03\npolygon 44              152   677546000      7.43e-04\npolygon 45               95   308931000      3.39e-04\npolygon 46              145   935319000      1.03e-03\npolygon 47              217   443956000      4.87e-04\npolygon 48               54   336385000      3.69e-04\npolygon 49              129   185003000      2.03e-04\npolygon 50              293  6019260000      6.60e-03\npolygon 51              121   139832000      1.53e-04\npolygon 52               85   258902000      2.84e-04\npolygon 53              124   953995000      1.05e-03\npolygon 54               78   100773000      1.11e-04\npolygon 55               98   251158000      2.76e-04\npolygon 56               54   369460000      4.05e-04\npolygon 57               91   404764000      4.44e-04\npolygon 58              105   871119000      9.56e-04\npolygon 59              137  2552190000      2.80e-03\npolygon 60              120  1281100000      1.41e-03\npolygon 61               71   926930000      1.02e-03\npolygon 62              105    20217600      2.22e-05\npolygon 63              183  2262010000      2.48e-03\npolygon 64              162  4043000000      4.44e-03\npolygon 65               86  1101870000      1.21e-03\npolygon 66              173   521166000      5.72e-04\npolygon 67              109  1341810000      1.47e-03\npolygon 68               71   115057000      1.26e-04\npolygon 69              484  2513010000      2.76e-03\npolygon 70               97   465688000      5.11e-04\npolygon 71              124   373051000      4.09e-04\npolygon 72              187  1820870000      2.00e-03\npolygon 73              163  2907440000      3.19e-03\npolygon 74              122  1144380000      1.26e-03\npolygon 75              211   424132000      4.65e-04\npolygon 76              263  2640270000      2.90e-03\npolygon 77               79   441514000      4.84e-04\npolygon 78               65   345446000      3.79e-04\npolygon 79               60   173446000      1.90e-04\npolygon 80              110   590436000      6.48e-04\npolygon 81              258  1001520000      1.10e-03\npolygon 82              169   456525000      5.01e-04\npolygon 83              151   515216000      5.65e-04\npolygon 84              114   319372000      3.50e-04\npolygon 85              188  5113050000      5.61e-03\npolygon 86              108   422520000      4.63e-04\npolygon 87               25     1656000      1.82e-06\npolygon 88               40     2539480      2.79e-06\npolygon 89              198   753693000      8.27e-04\npolygon 90              105  1503970000      1.65e-03\npolygon 91              194  1608070000      1.76e-03\npolygon 92              446  9146630000      1.00e-02\npolygon 93              418  5061900000      5.55e-03\npolygon 94              179   996338000      1.09e-03\npolygon 95              242  9749490000      1.07e-02\npolygon 96              125  1935360000      2.12e-03\npolygon 97              237  1646800000      1.81e-03\npolygon 98              148   523796000      5.75e-04\npolygon 99              196  1178480000      1.29e-03\npolygon 100             167  3654300000      4.01e-03\npolygon 101             179   789195000      8.66e-04\npolygon 102             201   949273000      1.04e-03\npolygon 103             113   724290000      7.95e-04\npolygon 104             115   314657000      3.45e-04\npolygon 105             173   618647000      6.79e-04\npolygon 106             241  1292100000      1.42e-03\npolygon 107             137   687464000      7.54e-04\npolygon 108              29    52177100      5.72e-05\npolygon 109              76   762749000      8.37e-04\npolygon 110             156   497186000      5.45e-04\npolygon 111              84   831075000      9.12e-04\npolygon 112             270  1593160000      1.75e-03\npolygon 113             326  1403290000      1.54e-03\npolygon 114             545  6532700000      7.17e-03\npolygon 115              76  1077240000      1.18e-03\npolygon 116             140  1240290000      1.36e-03\npolygon 117             442  3293310000      3.61e-03\npolygon 118             102   639535000      7.02e-04\npolygon 119              99   890376000      9.77e-04\npolygon 120             288  2884440000      3.16e-03\npolygon 121             189  1720740000      1.89e-03\npolygon 122              60   149473000      1.64e-04\npolygon 123              41    22700000      2.49e-05\npolygon 124               8     2288030      2.51e-06\npolygon 125              30    38962000      4.27e-05\npolygon 126              49    64971100      7.13e-05\npolygon 127             126   551553000      6.05e-04\npolygon 128             289 11313500000      1.24e-02\npolygon 129              84   144820000      1.59e-04\npolygon 130             107  1584140000      1.74e-03\npolygon 131 (hole)       46   -63221900     -6.94e-05\npolygon 132             242   944565000      1.04e-03\npolygon 133             172   568738000      6.24e-04\npolygon 134             192  3302700000      3.62e-03\npolygon 135             168  2032610000      2.23e-03\npolygon 136             136   441312000      4.84e-04\npolygon 137             102  1109840000      1.22e-03\npolygon 138             353  3824360000      4.20e-03\npolygon 139             119  1172270000      1.29e-03\npolygon 140             348  1937620000      2.13e-03\npolygon 141              33  1045770000      1.15e-03\npolygon 142             105   137471000      1.51e-04\npolygon 143             195   180017000      1.97e-04\npolygon 144              30     8508280      9.33e-06\npolygon 145              46    63221900      6.94e-05\npolygon 146             171   488609000      5.36e-04\npolygon 147             135  1527120000      1.68e-03\npolygon 148             346  4482200000      4.92e-03\npolygon 149              82    13403000      1.47e-05\npolygon 150             178  2351070000      2.58e-03\npolygon 151             136  1099370000      1.21e-03\npolygon 152             241   789614000      8.66e-04\npolygon 153             464  5852250000      6.42e-03\npolygon 154             167   807413000      8.86e-04\npolygon 155             121  1954440000      2.14e-03\npolygon 156             125   479132000      5.26e-04\npolygon 157             118  1136380000      1.25e-03\npolygon 158             144   482469000      5.29e-04\npolygon 159             285  3055000000      3.35e-03\npolygon 160              93   688296000      7.55e-04\npolygon 161             101   191455000      2.10e-04\npolygon 162             113   384285000      4.22e-04\npolygon 163             126   437156000      4.80e-04\npolygon 164             198   986846000      1.08e-03\npolygon 165             195  2407170000      2.64e-03\npolygon 166             143  1573000000      1.73e-03\npolygon 167             267  1907060000      2.09e-03\npolygon 168             213  1488560000      1.63e-03\npolygon 169             118  2486810000      2.73e-03\npolygon 170             291  3042540000      3.34e-03\npolygon 171             181  3696750000      4.06e-03\npolygon 172              31    31907200      3.50e-05\npolygon 173              45    21471500      2.36e-05\npolygon 174             316  1028900000      1.13e-03\npolygon 175             122   325297000      3.57e-04\npolygon 176             157   647249000      7.10e-04\npolygon 177             117   122897000      1.35e-04\npolygon 178             165   505877000      5.55e-04\npolygon 179             121   913129000      1.00e-03\npolygon 180              50   102243000      1.12e-04\npolygon 181              72   216002000      2.37e-04\npolygon 182             158  2541800000      2.79e-03\npolygon 183              59   230988000      2.53e-04\npolygon 184             220  1873530000      2.06e-03\npolygon 185             133   735204000      8.07e-04\npolygon 186             106   259870000      2.85e-04\npolygon 187             112   269897000      2.96e-04\npolygon 188              66    76272100      8.37e-05\npolygon 189             167   174284000      1.91e-04\npolygon 190             125   365142000      4.01e-04\npolygon 191             259  1818930000      2.00e-03\npolygon 192             176   166138000      1.82e-04\npolygon 193              76   476516000      5.23e-04\npolygon 194              69   315063000      3.46e-04\npolygon 195              89   337071000      3.70e-04\npolygon 196             102   375363000      4.12e-04\npolygon 197              84   121957000      1.34e-04\npolygon 198              52   136604000      1.50e-04\npolygon 199             162   833337000      9.14e-04\npolygon 200              65   250497000      2.75e-04\npolygon 201              87   391909000      4.30e-04\npolygon 202              98    93298400      1.02e-04\npolygon 203              56    75277300      8.26e-05\npolygon 204             386  1187590000      1.30e-03\npolygon 205             140   264235000      2.90e-04\npolygon 206             136   342326000      3.76e-04\npolygon 207             170  1306460000      1.43e-03\npolygon 208             149   515910000      5.66e-04\npolygon 209             152  1080780000      1.19e-03\npolygon 210              96   169335000      1.86e-04\npolygon 211             168   289107000      3.17e-04\npolygon 212             157   815912000      8.95e-04\npolygon 213              27    61230000      6.72e-05\npolygon 214              56   319113000      3.50e-04\npolygon 215             121   538078000      5.90e-04\npolygon 216              74   192362000      2.11e-04\npolygon 217             180   220312000      2.42e-04\npolygon 218             175   172800000      1.90e-04\npolygon 219             159   663059000      7.27e-04\npolygon 220             202  1132490000      1.24e-03\npolygon 221             179   939540000      1.03e-03\npolygon 222             187   812156000      8.91e-04\npolygon 223              99   630524000      6.92e-04\npolygon 224              75   638217000      7.00e-04\npolygon 225             125   120414000      1.32e-04\npolygon 226             130   413300000      4.53e-04\npolygon 227             146   263994000      2.90e-04\npolygon 228              78    38534100      4.23e-05\npolygon 229             226  2252420000      2.47e-03\npolygon 230             267  1682640000      1.85e-03\npolygon 231             417  2155190000      2.36e-03\npolygon 232             298  4752100000      5.21e-03\npolygon 233             177  1595500000      1.75e-03\npolygon 234             391  5486120000      6.02e-03\npolygon 235             144   422312000      4.63e-04\npolygon 236             239   610672000      6.70e-04\npolygon 237             135  1517930000      1.67e-03\npolygon 238             143   582712000      6.39e-04\npolygon 239             174  2938910000      3.22e-03\npolygon 240             322  4890620000      5.36e-03\npolygon 241             141  2101520000      2.31e-03\npolygon 242             372  1408790000      1.55e-03\npolygon 243             141   441736000      4.85e-04\npolygon 244              91   227717000      2.50e-04\npolygon 245             366  8393400000      9.21e-03\npolygon 246             308  5548050000      6.09e-03\npolygon 247             184   567600000      6.23e-04\npolygon 248             194  1752700000      1.92e-03\npolygon 249             129  1898840000      2.08e-03\npolygon 250             224  3853470000      4.23e-03\npolygon 251             110   338774000      3.72e-04\npolygon 252             137   750378000      8.23e-04\npolygon 253             113  1198410000      1.31e-03\npolygon 254             228  1985330000      2.18e-03\npolygon 255              42   132735000      1.46e-04\npolygon 256              41    45266800      4.97e-05\npolygon 257             214  2172830000      2.38e-03\npolygon 258             181  1711740000      1.88e-03\npolygon 259             265  2635650000      2.89e-03\npolygon 260             111  3295570000      3.62e-03\npolygon 261             367  3479590000      3.82e-03\npolygon 262             381  2135100000      2.34e-03\npolygon 263             130  2861350000      3.14e-03\npolygon 264              87   227361000      2.49e-04\npolygon 265             138  2612750000      2.87e-03\npolygon 266             194  1131040000      1.24e-03\npolygon 267             256  1064810000      1.17e-03\npolygon 268              70   645109000      7.08e-04\npolygon 269             165  2065340000      2.27e-03\npolygon 270             122   690397000      7.57e-04\npolygon 271             329  2530740000      2.78e-03\npolygon 272             164  1008740000      1.11e-03\npolygon 273             116  1001210000      1.10e-03\npolygon 274             101    23625200      2.59e-05\npolygon 275             106  1055810000      1.16e-03\npolygon 276             530  1858910000      2.04e-03\npolygon 277             133   436131000      4.78e-04\npolygon 278             108  1993390000      2.19e-03\npolygon 279              95  1430860000      1.57e-03\npolygon 280             198   451326000      4.95e-04\npolygon 281             325  2953570000      3.24e-03\npolygon 282              45    32240200      3.54e-05\npolygon 283             358  2020480000      2.22e-03\npolygon 284             247  2674760000      2.93e-03\npolygon 285             113    39173300      4.30e-05\npolygon 286             109    13307200      1.46e-05\npolygon 287              80    11510600      1.26e-05\npolygon 288              97    14118400      1.55e-05\npolygon 289             116    48456300      5.32e-05\npolygon 290             107  1335400000      1.46e-03\npolygon 291             135   689017000      7.56e-04\npolygon 292             129   757902000      8.31e-04\npolygon 293             128   970597000      1.06e-03\npolygon 294              46   360322000      3.95e-04\npolygon 295              61    94448100      1.04e-04\npolygon 296             236   243275000      2.67e-04\npolygon 297             125   175050000      1.92e-04\npolygon 298             328  2669260000      2.93e-03\npolygon 299             260   336038000      3.69e-04\npolygon 300              41   134212000      1.47e-04\npolygon 301             221  1921470000      2.11e-03\npolygon 302             186   182197000      2.00e-04\npolygon 303              91   104163000      1.14e-04\npolygon 304              88   132443000      1.45e-04\npolygon 305              90   131298000      1.44e-04\npolygon 306             203   871429000      9.56e-04\npolygon 307              52   231585000      2.54e-04\npolygon 308              92    33306600      3.65e-05\npolygon 309              83   111191000      1.22e-04\npolygon 310             126   192557000      2.11e-04\npolygon 311             219   904397000      9.92e-04\npolygon 312             174   741131000      8.13e-04\npolygon 313              81   138742000      1.52e-04\npolygon 314             108   318363000      3.49e-04\npolygon 315             246  3449020000      3.78e-03\npolygon 316              65   119452000      1.31e-04\npolygon 317             131   542710000      5.95e-04\npolygon 318             267  3391200000      3.72e-03\npolygon 319             231  2114230000      2.32e-03\npolygon 320              86   333938000      3.66e-04\npolygon 321              61   303909000      3.33e-04\npolygon 322              83   170077000      1.87e-04\npolygon 323             118   349864000      3.84e-04\npolygon 324             125   240906000      2.64e-04\npolygon 325             138   108417000      1.19e-04\npolygon 326             374  2179670000      2.39e-03\npolygon 327             103   959168000      1.05e-03\npolygon 328              95   213380000      2.34e-04\npolygon 329              87   143429000      1.57e-04\npolygon 330              63   378013000      4.15e-04\npolygon 331             177  1284310000      1.41e-03\npolygon 332             117   114643000      1.26e-04\npolygon 333             103   468158000      5.14e-04\npolygon 334             118   436075000      4.78e-04\npolygon 335             181   940328000      1.03e-03\npolygon 336             144   181157000      1.99e-04\npolygon 337              95    46930500      5.15e-05\npolygon 338              54   146666000      1.61e-04\npolygon 339              75   237924000      2.61e-04\npolygon 340             159  1072560000      1.18e-03\npolygon 341             329  1966820000      2.16e-03\npolygon 342             211   262513000      2.88e-04\npolygon 343             162   401626000      4.41e-04\npolygon 344             214   335586000      3.68e-04\npolygon 345             123   115857000      1.27e-04\npolygon 346             213   858760000      9.42e-04\npolygon 347             104   658339000      7.22e-04\npolygon 348             177   655251000      7.19e-04\npolygon 349             158   278311000      3.05e-04\npolygon 350              90   280205000      3.07e-04\npolygon 351             306   967491000      1.06e-03\npolygon 352             206   597317000      6.55e-04\npolygon 353              34    94929400      1.04e-04\npolygon 354              69    69814600      7.66e-05\npolygon 355              69    42727500      4.69e-05\npolygon 356             126  1083920000      1.19e-03\npolygon 357              71   441057000      4.84e-04\npolygon 358              70    11777400      1.29e-05\npolygon 359             109   243915000      2.68e-04\npolygon 360              30     2518970      2.76e-06\npolygon 361             113   149668000      1.64e-04\npolygon 362             445  1824360000      2.00e-03\npolygon 363             238   789152000      8.66e-04\npolygon 364             231   382777000      4.20e-04\npolygon 365             223   577820000      6.34e-04\npolygon 366             164   894287000      9.81e-04\npolygon 367              37   984403000      1.08e-03\npolygon 368             153   703398000      7.72e-04\npolygon 369              49    30458800      3.34e-05\npolygon 370              77   327820000      3.60e-04\npolygon 371              62   263505000      2.89e-04\npolygon 372             155  2166520000      2.38e-03\npolygon 373             110   414831000      4.55e-04\npolygon 374             147  1825460000      2.00e-03\npolygon 375             133   694895000      7.62e-04\npolygon 376             143   845436000      9.27e-04\npolygon 377             136   283520000      3.11e-04\npolygon 378             167   276994000      3.04e-04\npolygon 379             164   153494000      1.68e-04\npolygon 380              85   633163000      6.95e-04\npolygon 381             134   382494000      4.20e-04\npolygon 382              93   438930000      4.81e-04\npolygon 383             116   459058000      5.04e-04\npolygon 384              20    23530600      2.58e-05\npolygon 385             116   714012000      7.83e-04\npolygon 386 (hole)       20   -23530600     -2.58e-05\npolygon 387              78    52602500      5.77e-05\npolygon 388             259  1653590000      1.81e-03\npolygon 389              82  1551780000      1.70e-03\npolygon 390             146   180183000      1.98e-04\npolygon 391              69   266635000      2.92e-04\npolygon 392             261  2408070000      2.64e-03\npolygon 393              87   274127000      3.01e-04\npolygon 394             163  1083380000      1.19e-03\npolygon 395             114   454348000      4.98e-04\npolygon 396             237  2613310000      2.87e-03\npolygon 397             209  1245760000      1.37e-03\npolygon 398             270  3533910000      3.88e-03\npolygon 399              91   190774000      2.09e-04\npolygon 400              83   382500000      4.20e-04\npolygon 401             124   970150000      1.06e-03\npolygon 402             166  1415580000      1.55e-03\npolygon 403             370   848310000      9.31e-04\npolygon 404             263  1066830000      1.17e-03\npolygon 405             163  1027350000      1.13e-03\npolygon 406              85   262081000      2.87e-04\npolygon 407             146   565903000      6.21e-04\npolygon 408             198  2696010000      2.96e-03\npolygon 409             128   372050000      4.08e-04\npolygon 410             301  4589350000      5.03e-03\npolygon 411              70    59358300      6.51e-05\npolygon 412              87    52691500      5.78e-05\npolygon 413             240  1371380000      1.50e-03\npolygon 414             167  1013280000      1.11e-03\npolygon 415             261  2585420000      2.84e-03\npolygon 416             215  1910440000      2.10e-03\npolygon 417             126  6971200000      7.65e-03\npolygon 418             110   714045000      7.83e-04\npolygon 419              64   608806000      6.68e-04\npolygon 420             292  3007610000      3.30e-03\npolygon 421             344  1896730000      2.08e-03\npolygon 422              72   610435000      6.70e-04\npolygon 423             101  1155510000      1.27e-03\npolygon 424             253  2746620000      3.01e-03\npolygon 425             254  1394860000      1.53e-03\npolygon 426             169   940266000      1.03e-03\npolygon 427             173   754239000      8.27e-04\npolygon 428              65    17171600      1.88e-05\npolygon 429             265  1333410000      1.46e-03\npolygon 430             100   449680000      4.93e-04\npolygon 431             412  6620190000      7.26e-03\npolygon 432             185  2884260000      3.16e-03\npolygon 433             139  1327500000      1.46e-03\npolygon 434             240  1652310000      1.81e-03\npolygon 435              87   147970000      1.62e-04\npolygon 436             162  2690800000      2.95e-03\npolygon 437             203   817292000      8.97e-04\npolygon 438             103   518700000      5.69e-04\npolygon 439             105   866522000      9.51e-04\npolygon 440             159  2511300000      2.75e-03\npolygon 441             189   381951000      4.19e-04\npolygon 442              88  1164900000      1.28e-03\npolygon 443             154  2635140000      2.89e-03\npolygon 444              32   112748000      1.24e-04\npolygon 445             143   558807000      6.13e-04\npolygon 446              78   436326000      4.79e-04\npolygon 447             105  2270460000      2.49e-03\npolygon 448             210   830157000      9.11e-04\npolygon 449             190   904042000      9.92e-04\npolygon 450             198  1031320000      1.13e-03\npolygon 451             103  1494520000      1.64e-03\npolygon 452             133  1349380000      1.48e-03\npolygon 453             158  2554290000      2.80e-03\npolygon 454              54   350876000      3.85e-04\npolygon 455             758  5993130000      6.57e-03\npolygon 456             160  1683790000      1.85e-03\npolygon 457              98  1776210000      1.95e-03\npolygon 458              85    82167800      9.01e-05\npolygon 459             188  2360860000      2.59e-03\npolygon 460             105   334024000      3.66e-04\npolygon 461             109  1532430000      1.68e-03\npolygon 462             320  4951410000      5.43e-03\npolygon 463             110   191551000      2.10e-04\npolygon 464             152   520576000      5.71e-04\npolygon 465              86   195919000      2.15e-04\npolygon 466             141   576472000      6.32e-04\npolygon 467             254  4353820000      4.78e-03\npolygon 468             123   455568000      5.00e-04\npolygon 469             135  1252810000      1.37e-03\npolygon 470             148  1721300000      1.89e-03\npolygon 471             142  2351420000      2.58e-03\npolygon 472             138   597318000      6.55e-04\npolygon 473             148   749496000      8.22e-04\npolygon 474             452  2656280000      2.91e-03\npolygon 475             136   274289000      3.01e-04\npolygon 476              23     8661600      9.50e-06\npolygon 477              66    23678500      2.60e-05\npolygon 478             141  1108700000      1.22e-03\npolygon 479             194   782444000      8.58e-04\npolygon 480             197  1198910000      1.32e-03\npolygon 481             201  3031940000      3.33e-03\npolygon 482             187  1660500000      1.82e-03\npolygon 483             161  2594590000      2.85e-03\npolygon 484             276  2300020000      2.52e-03\npolygon 485              85  1625090000      1.78e-03\npolygon 486             216  3203910000      3.51e-03\npolygon 487             256  1280140000      1.40e-03\npolygon 488             179   836488000      9.18e-04\npolygon 489              93   257794000      2.83e-04\npolygon 490             421  2873420000      3.15e-03\npolygon 491             249  4069250000      4.46e-03\npolygon 492             335  4750130000      5.21e-03\npolygon 493             133   619159000      6.79e-04\npolygon 494             145   140676000      1.54e-04\npolygon 495             147   964409000      1.06e-03\npolygon 496             163  1364640000      1.50e-03\npolygon 497             150  1340230000      1.47e-03\npolygon 498             197   401654000      4.41e-04\npolygon 499              60   811777000      8.90e-04\npolygon 500             184   806731000      8.85e-04\npolygon 501             194   805730000      8.84e-04\npolygon 502             223  1609110000      1.77e-03\npolygon 503             174   670373000      7.35e-04\npolygon 504             173  2756620000      3.02e-03\npolygon 505             288  5780750000      6.34e-03\npolygon 506             109   572027000      6.27e-04\npolygon 507             243  2981570000      3.27e-03\npolygon 508             366  7222130000      7.92e-03\npolygon 509             282  9325580000      1.02e-02\npolygon 510             164   937953000      1.03e-03\npolygon 511             105   539604000      5.92e-04\npolygon 512             224  2115550000      2.32e-03\npolygon 513             176   200015000      2.19e-04\npolygon 514             261    71848700      7.88e-05\npolygon 515             517   149386000      1.64e-04\npolygon 516              75    13573700      1.49e-05\npolygon 517              42     5665830      6.22e-06\npolygon 518              24      876126      9.61e-07\npolygon 519             127   816059000      8.95e-04\npolygon 520             174   569034000      6.24e-04\npolygon 521             143   785121000      8.61e-04\npolygon 522             128   431249000      4.73e-04\npolygon 523             121   998310000      1.10e-03\npolygon 524             237   350136000      3.84e-04\npolygon 525              64   197751000      2.17e-04\npolygon 526             419  2717250000      2.98e-03\npolygon 527             534  5314130000      5.83e-03\npolygon 528             276  1905800000      2.09e-03\npolygon 529              96   834508000      9.15e-04\npolygon 530             167  3133390000      3.44e-03\npolygon 531             114   758369000      8.32e-04\npolygon 532             131   505935000      5.55e-04\npolygon 533             153   787574000      8.64e-04\npolygon 534              71    16681300      1.83e-05\npolygon 535             202  2087080000      2.29e-03\npolygon 536             212  1580580000      1.73e-03\npolygon 537             239  1045310000      1.15e-03\npolygon 538              78    41663400      4.57e-05\npolygon 539             131  4852660000      5.32e-03\npolygon 540             179  1257790000      1.38e-03\npolygon 541             208  1610340000      1.77e-03\npolygon 542             153   822692000      9.02e-04\npolygon 543             165  1404280000      1.54e-03\npolygon 544             194  1456450000      1.60e-03\npolygon 545             255  2326850000      2.55e-03\npolygon 546             179  2615440000      2.87e-03\npolygon 547             257   542201000      5.95e-04\npolygon 548             208   817102000      8.96e-04\npolygon 549             287  4646880000      5.10e-03\npolygon 550             104    78468800      8.61e-05\npolygon 551              80    97463700      1.07e-04\npolygon 552              89   759948000      8.34e-04\npolygon 553              62   254847000      2.80e-04\npolygon 554              92    35047200      3.84e-05\npolygon 555              52    68604100      7.53e-05\npolygon 556             103   154259000      1.69e-04\npolygon 557             141   130673000      1.43e-04\npolygon 558             135   130604000      1.43e-04\npolygon 559             171   200856000      2.20e-04\npolygon 560             162   556234000      6.10e-04\npolygon 561             143   836873000      9.18e-04\npolygon 562             121    69650300      7.64e-05\npolygon 563             233  1484990000      1.63e-03\npolygon 564             195   938380000      1.03e-03\npolygon 565              72   496736000      5.45e-04\npolygon 566             184  1015930000      1.11e-03\npolygon 567             154   403847000      4.43e-04\npolygon 568             111   257687000      2.83e-04\npolygon 569             105   509979000      5.59e-04\npolygon 570             167   234789000      2.58e-04\npolygon 571             112    86415300      9.48e-05\npolygon 572             275  1144120000      1.26e-03\npolygon 573             106   467565000      5.13e-04\npolygon 574             318  1445720000      1.59e-03\npolygon 575             306  1885470000      2.07e-03\npolygon 576              98   292058000      3.20e-04\npolygon 577              92   550979000      6.04e-04\npolygon 578             360  1354000000      1.49e-03\npolygon 579              58    94679600      1.04e-04\npolygon 580             251  1715700000      1.88e-03\npolygon 581             162   958862000      1.05e-03\npolygon 582              81   602543000      6.61e-04\npolygon 583             115   517979000      5.68e-04\npolygon 584              93   678771000      7.45e-04\npolygon 585              44    91573300      1.00e-04\npolygon 586              56    29135100      3.20e-05\npolygon 587             112   376959000      4.14e-04\npolygon 588             235   912341000      1.00e-03\npolygon 589              60    79402200      8.71e-05\npolygon 590              96   130008000      1.43e-04\npolygon 591             310   973735000      1.07e-03\npolygon 592             167   422444000      4.63e-04\npolygon 593              95   439958000      4.83e-04\npolygon 594             240   896223000      9.83e-04\npolygon 595              94   333241000      3.66e-04\npolygon 596             105   602218000      6.61e-04\npolygon 597              61   598470000      6.57e-04\npolygon 598              90   411357000      4.51e-04\npolygon 599             135   162995000      1.79e-04\npolygon 600             192  1189640000      1.31e-03\npolygon 601             114   436816000      4.79e-04\npolygon 602             108   661738000      7.26e-04\npolygon 603             109   298589000      3.28e-04\npolygon 604             231   306860000      3.37e-04\npolygon 605             158   858911000      9.42e-04\npolygon 606             163   300918000      3.30e-04\npolygon 607             123   481140000      5.28e-04\npolygon 608             109   924106000      1.01e-03\npolygon 609             144   286440000      3.14e-04\npolygon 610              64   327765000      3.60e-04\npolygon 611             132   990260000      1.09e-03\npolygon 612             133   108945000      1.20e-04\npolygon 613              57  1063330000      1.17e-03\npolygon 614             112   671950000      7.37e-04\npolygon 615              91  1591220000      1.75e-03\npolygon 616              61   158754000      1.74e-04\npolygon 617             123   334217000      3.67e-04\npolygon 618             176   449937000      4.94e-04\npolygon 619             181   962703000      1.06e-03\npolygon 620             168   439068000      4.82e-04\npolygon 621              53    37632900      4.13e-05\npolygon 622              44     9923540      1.09e-05\npolygon 623             168   163855000      1.80e-04\npolygon 624              84   114932000      1.26e-04\npolygon 625             129   250954000      2.75e-04\npolygon 626              48   917300000      1.01e-03\npolygon 627             211  2414130000      2.65e-03\npolygon 628              92  2044380000      2.24e-03\npolygon 629             122   462169000      5.07e-04\npolygon 630             145   122732000      1.35e-04\npolygon 631              94   109715000      1.20e-04\npolygon 632              75    52113900      5.72e-05\npolygon 633              78    75069700      8.23e-05\npolygon 634             157   131405000      1.44e-04\npolygon 635             130    96737000      1.06e-04\npolygon 636             212   544292000      5.97e-04\npolygon 637             148   321005000      3.52e-04\npolygon 638             117   188241000      2.06e-04\npolygon 639             326  1427760000      1.57e-03\npolygon 640              93   510484000      5.60e-04\npolygon 641              84   266566000      2.92e-04\npolygon 642              59    44465000      4.88e-05\npolygon 643             108   174739000      1.92e-04\npolygon 644              95    61239800      6.72e-05\npolygon 645             135  1362500000      1.49e-03\npolygon 646             441  2343080000      2.57e-03\npolygon 647             443  2779220000      3.05e-03\npolygon 648             201  1229570000      1.35e-03\npolygon 649             148   740903000      8.13e-04\npolygon 650              96    56304900      6.18e-05\npolygon 651             204   193966000      2.13e-04\npolygon 652             227   286364000      3.14e-04\npolygon 653             195  1140690000      1.25e-03\npolygon 654              69   507076000      5.56e-04\npolygon 655              77   135112000      1.48e-04\npolygon 656             102   247269000      2.71e-04\npolygon 657             169   359335000      3.94e-04\npolygon 658             171   599357000      6.57e-04\npolygon 659             107   605492000      6.64e-04\npolygon 660 (hole)       58   -94679600     -1.04e-04\npolygon 661             278  2089500000      2.29e-03\npolygon 662             215  1434320000      1.57e-03\npolygon 663             109   226339000      2.48e-04\npolygon 664             115  2913520000      3.20e-03\npolygon 665              92   108215000      1.19e-04\npolygon 666             120   576911000      6.33e-04\npolygon 667             312  2539010000      2.79e-03\npolygon 668             152  2397920000      2.63e-03\npolygon 669             281  3685550000      4.04e-03\npolygon 670             111   517132000      5.67e-04\npolygon 671              71   210320000      2.31e-04\npolygon 672             407  3128130000      3.43e-03\npolygon 673             114   484795000      5.32e-04\npolygon 674             114   266695000      2.93e-04\npolygon 675             326  1020560000      1.12e-03\npolygon 676             187   828074000      9.08e-04\npolygon 677             118   798209000      8.76e-04\npolygon 678             233   304041000      3.34e-04\npolygon 679              74   262520000      2.88e-04\npolygon 680              81  2379770000      2.61e-03\npolygon 681             197   695308000      7.63e-04\npolygon 682             178  1389470000      1.52e-03\npolygon 683             218   949719000      1.04e-03\npolygon 684             137  1455320000      1.60e-03\npolygon 685              69  1376800000      1.51e-03\npolygon 686              78  1894770000      2.08e-03\npolygon 687             124   326896000      3.59e-04\npolygon 688             238  1493300000      1.64e-03\npolygon 689              95   429927000      4.72e-04\npolygon 690             312  4603740000      5.05e-03\npolygon 691             108   603505000      6.62e-04\npolygon 692             124  1313750000      1.44e-03\npolygon 693             207  2722740000      2.99e-03\npolygon 694             205  1228890000      1.35e-03\npolygon 695              89   507887000      5.57e-04\npolygon 696             105  1209820000      1.33e-03\npolygon 697             298  2439390000      2.68e-03\npolygon 698             119   783435000      8.59e-04\npolygon 699             223  1370830000      1.50e-03\npolygon 700             405  5232570000      5.74e-03\npolygon 701             112   869266000      9.54e-04\npolygon 702              40    11266300      1.24e-05\npolygon 703              85   801093000      8.79e-04\npolygon 704             182  2247020000      2.46e-03\npolygon 705              64    40124900      4.40e-05\npolygon 706              74    28609800      3.14e-05\npolygon 707             159  4057210000      4.45e-03\npolygon 708             268  2711450000      2.97e-03\npolygon 709             199  1232180000      1.35e-03\npolygon 710              49   129161000      1.42e-04\npolygon 711             181  1249020000      1.37e-03\npolygon 712             153  1576310000      1.73e-03\npolygon 713             102    19692500      2.16e-05\npolygon 714             142  1041390000      1.14e-03\npolygon 715              51   241483000      2.65e-04\npolygon 716             329  2454620000      2.69e-03\npolygon 717              52   160564000      1.76e-04\npolygon 718             199   597976000      6.56e-04\npolygon 719             165  2386710000      2.62e-03\npolygon 720              96  1467640000      1.61e-03\npolygon 721             165  1845440000      2.02e-03\npolygon 722             125  2382560000      2.61e-03\npolygon 723              56    26680100      2.93e-05\npolygon 724              57   477262000      5.24e-04\npolygon 725             240  4537780000      4.98e-03\npolygon 726             221   655572000      7.19e-04\npolygon 727              90   190575000      2.09e-04\npolygon 728             366  6875030000      7.54e-03\npolygon 729             111  2983120000      3.27e-03\npolygon 730             282  5593540000      6.14e-03\npolygon 731             178  1810650000      1.99e-03\npolygon 732             111   535540000      5.87e-04\npolygon 733             194  1226250000      1.35e-03\npolygon 734             103  2304250000      2.53e-03\npolygon 735              80   256855000      2.82e-04\npolygon 736             127   890774000      9.77e-04\npolygon 737              88   166099000      1.82e-04\npolygon 738             118    58655100      6.43e-05\npolygon 739             181   832072000      9.13e-04\npolygon 740             245   771172000      8.46e-04\npolygon 741              94   125983000      1.38e-04\npolygon 742             201  1994300000      2.19e-03\npolygon 743             119   218239000      2.39e-04\npolygon 744              84  1783340000      1.96e-03\npolygon 745             143   282825000      3.10e-04\npolygon 746              80   277344000      3.04e-04\npolygon 747              91   409149000      4.49e-04\npolygon 748             113   368029000      4.04e-04\npolygon 749             129   227449000      2.50e-04\npolygon 750              77   135239000      1.48e-04\npolygon 751             131   222742000      2.44e-04\npolygon 752             108   107659000      1.18e-04\npolygon 753             189   346538000      3.80e-04\npolygon 754             135   115738000      1.27e-04\npolygon 755             107  1379370000      1.51e-03\npolygon 756              72  1495350000      1.64e-03\npolygon 757              91   112635000      1.24e-04\npolygon 758             279   183562000      2.01e-04\npolygon 759             131   841799000      9.23e-04\npolygon 760             129   977404000      1.07e-03\npolygon 761             157   665252000      7.30e-04\npolygon 762             167  1209890000      1.33e-03\npolygon 763             102   363647000      3.99e-04\npolygon 764             131   658795000      7.23e-04\npolygon 765             235  1840730000      2.02e-03\npolygon 766             131   586927000      6.44e-04\npolygon 767             173  1699070000      1.86e-03\npolygon 768             245  4102640000      4.50e-03\npolygon 769             362  4981460000      5.46e-03\npolygon 770             148   361846000      3.97e-04\npolygon 771             185  3936310000      4.32e-03\npolygon 772             105   681794000      7.48e-04\npolygon 773             179  1813520000      1.99e-03\npolygon 774             100   770814000      8.46e-04\npolygon 775             165  1475280000      1.62e-03\npolygon 776             144  1287890000      1.41e-03\npolygon 777             165   658753000      7.23e-04\npolygon 778             371  1782980000      1.96e-03\npolygon 779             201  1964990000      2.16e-03\npolygon 780             182   337903000      3.71e-04\npolygon 781              39   123254000      1.35e-04\npolygon 782              95   682891000      7.49e-04\npolygon 783              29    63798400      7.00e-05\npolygon 784             137   934702000      1.03e-03\npolygon 785             196  1275510000      1.40e-03\npolygon 786             312  3825490000      4.20e-03\npolygon 787             430  3869200000      4.24e-03\npolygon 788             251  1904040000      2.09e-03\npolygon 789             106   519190000      5.70e-04\npolygon 790             170  2331980000      2.56e-03\npolygon 791             115   393773000      4.32e-04\npolygon 792             110  1030270000      1.13e-03\npolygon 793             228  2685640000      2.95e-03\npolygon 794             175   699163000      7.67e-04\nenclosing rectangle: [26662.7, 1344157] x [30523.4, 1096029.4] units\n                     (1317000 x 1066000 units)\nWindow area = 9.11598e+11 square units\nFraction of frame area: 0.649\n\nsummary(osun_owin)\n\nWindow: polygonal boundary\n30 separate polygons (no holes)\n            vertices      area relative.area\npolygon 1        204 766084000       0.08870\npolygon 2         81 304399000       0.03520\npolygon 3         97 465688000       0.05390\npolygon 4        124 373051000       0.04320\npolygon 5         60 149473000       0.01730\npolygon 6         84 144820000       0.01680\npolygon 7         50 102243000       0.01180\npolygon 8         72 216002000       0.02500\npolygon 9        112 269897000       0.03130\npolygon 10       125 365142000       0.04230\npolygon 11        83 111191000       0.01290\npolygon 12       126 192557000       0.02230\npolygon 13       219 904397000       0.10500\npolygon 14       174 741131000       0.08580\npolygon 15        81 138742000       0.01610\npolygon 16        65 119452000       0.01380\npolygon 17        90 280205000       0.03240\npolygon 18        69  69814600       0.00808\npolygon 19        69  42727500       0.00495\npolygon 20        49  30458800       0.00353\npolygon 21        62 263505000       0.03050\npolygon 22        93 438930000       0.05080\npolygon 23        87 274127000       0.03170\npolygon 24       105 509979000       0.05910\npolygon 25        98 292058000       0.03380\npolygon 26        64 327765000       0.03800\npolygon 27       133 108945000       0.01260\npolygon 28       122 462169000       0.05350\npolygon 29        94 109715000       0.01270\npolygon 30        95  61239800       0.00709\nenclosing rectangle: [176503.22, 291043.82] x [331434.7, 454520.1] units\n                     (114500 x 123100 units)\nWindow area = 8635910000 square units\nFraction of frame area: 0.613\n\n\n\n\nCombining waterpoints with Osun map\nFunctional waterpoints\n\nwp_functional_ppp_osun = wp_functional_ppp[osun_owin]\nplot(wp_functional_ppp_osun)\n\n\n\n\nLoading packages\n\npacman::p_load(maptools, sf, raster, spatstat, tmap)\n\nPrepping KDE plot\n\nkde_wp_functional_bw <- density(wp_functional_ppp_osun,\n                              sigma=bw.diggle,\n                              edge=TRUE,\n                              kernel=\"gaussian\")\n\nPlotting KDE for functional waterpoints\n\nplot(kde_wp_functional_bw)\n\n\n\n\nBandwidth used\n\nbw <- bw.diggle(wp_functional_ppp_osun)\nbw\n\n   sigma \n252.1687 \n\n\nRe-scaling data\n\nwp_functional_ppp_osun.km <- rescale(wp_functional_ppp_osun, 1000, \"km\")\n\n\nkde_wp_functional_bw <- density(wp_functional_ppp_osun.km, sigma=bw.diggle, edge=TRUE, kernel=\"gaussian\")\nplot(kde_wp_functional_bw)\n\n\n\n\nWorking with different kernel methods: Gaussian, Epanechnikov, Quartic and Discs\n\npar(mfrow=c(2,2))\nplot(density(wp_functional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"gaussian\"), \n     main=\"Gaussian\")\nplot(density(wp_functional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"epanechnikov\"), \n     main=\"Epanechnikov\")\nplot(density(wp_functional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"quartic\"), \n     main=\"Quartic\")\nplot(density(wp_functional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"disc\"), \n     main=\"Disc\")\n\n\n\n\nNon-functional waterpoints\n\nwp_nonfunctional_ppp_osun = wp_nonfunctional_ppp[osun_owin]\nplot(wp_nonfunctional_ppp_osun)\n\n\n\n\n\nkde_wp_nonfunctional_bw <- density(wp_nonfunctional_ppp_osun,\n                              sigma=bw.diggle,\n                              edge=TRUE,\n                            kernel=\"gaussian\") \n\n\nplot(kde_wp_nonfunctional_bw)\n\n\n\n\nComputing sigma\n\nbw <- bw.diggle(wp_nonfunctional_ppp_osun)\nbw\n\n   sigma \n308.2061 \n\n\nRe-scaling data\n\nwp_nonfunctional_ppp_osun.km <- rescale(wp_nonfunctional_ppp_osun, 1000, \"km\")\n\nPlotting re-scaled data\n\nkde_wp_nonfunctional_bw <- density(wp_nonfunctional_ppp_osun.km, sigma=bw.diggle, edge=TRUE, kernel=\"gaussian\")\nplot(kde_wp_nonfunctional_bw)\n\n\n\n\nWorking with different kernel methods: Gaussian, Epanechnikov, Quartic and Discs\n\npar(mfrow=c(2,2))\nplot(density(wp_nonfunctional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"gaussian\"), \n     main=\"Gaussian\")\nplot(density(wp_nonfunctional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"epanechnikov\"), \n     main=\"Epanechnikov\")\nplot(density(wp_nonfunctional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"quartic\"), \n     main=\"Quartic\")\nplot(density(wp_nonfunctional_ppp_osun.km, \n             sigma=bw.ppl, \n             edge=TRUE, \n             kernel=\"disc\"), \n     main=\"Disc\")\n\n\n\n\nKernel density maps on openstreetmap of Osun State, Nigeria\n\ntmap_mode('view')\ntm_shape(wp_functional) +\n    tm_dots(alpha=0.4, \n            size=0.05)\n\n\n\n\n\n\nConverting functional waterpoints gridded output into raster\n\ngridded_kde_wp_functional_bw <- as.SpatialGridDataFrame.im(kde_wp_functional_bw)\nspplot(gridded_kde_wp_functional_bw)\n\n\n\n\n\nkde_wp_functional_bw_raster <- raster(gridded_kde_wp_functional_bw)\n\n\nkde_wp_functional_bw_raster\n\nclass      : RasterLayer \ndimensions : 128, 128, 16384  (nrow, ncol, ncell)\nresolution : 0.8948485, 0.9616045  (x, y)\nextent     : 176.5032, 291.0438, 331.4347, 454.5201  (xmin, xmax, ymin, ymax)\ncrs        : NA \nsource     : memory\nnames      : v \nvalues     : -5.092436e-15, 25.49435  (min, max)\n\n\n\nprojection(kde_wp_functional_bw_raster) <- CRS(\"+init=EPSG:26392\")\nkde_wp_functional_bw_raster\n\nclass      : RasterLayer \ndimensions : 128, 128, 16384  (nrow, ncol, ncell)\nresolution : 0.8948485, 0.9616045  (x, y)\nextent     : 176.5032, 291.0438, 331.4347, 454.5201  (xmin, xmax, ymin, ymax)\ncrs        : +init=EPSG:26392 \nsource     : memory\nnames      : v \nvalues     : -5.092436e-15, 25.49435  (min, max)\n\n\nPlotting raster map\n\ntm_shape(kde_wp_functional_bw_raster) + \ntm_basemap(\"OpenStreetMap\") +\n  tm_raster(\"v\") +\n  tm_layout(legend.position = c(\"right\", \"bottom\"), frame = FALSE)\n\n\n\n\n\nConverting nonfunctional waterpoints gridded output into raster\n\ngridded_kde_wp_nonfunctional_bw <- as.SpatialGridDataFrame.im(kde_wp_nonfunctional_bw)\nspplot(gridded_kde_wp_nonfunctional_bw)\n\n\n\n\n\nkde_wp_nonfunctional_bw_raster <- raster(gridded_kde_wp_nonfunctional_bw)\n\n\nkde_wp_nonfunctional_bw_raster\n\nclass      : RasterLayer \ndimensions : 128, 128, 16384  (nrow, ncol, ncell)\nresolution : 0.8948485, 0.9616045  (x, y)\nextent     : 176.5032, 291.0438, 331.4347, 454.5201  (xmin, xmax, ymin, ymax)\ncrs        : NA \nsource     : memory\nnames      : v \nvalues     : -3.925434e-15, 20.49412  (min, max)\n\n\nChanging projection\n\nprojection(kde_wp_nonfunctional_bw_raster) <- CRS(\"+init=EPSG:26392\")\nkde_wp_nonfunctional_bw_raster\n\nclass      : RasterLayer \ndimensions : 128, 128, 16384  (nrow, ncol, ncell)\nresolution : 0.8948485, 0.9616045  (x, y)\nextent     : 176.5032, 291.0438, 331.4347, 454.5201  (xmin, xmax, ymin, ymax)\ncrs        : +init=EPSG:26392 \nsource     : memory\nnames      : v \nvalues     : -3.925434e-15, 20.49412  (min, max)\n\n\n\ntm_shape(kde_wp_nonfunctional_bw_raster) + \n  tm_basemap(\"OpenStreetMap\") +\n  tm_raster(\"v\") +\n  tm_layout(legend.position = c(\"right\", \"bottom\"), frame = FALSE)\n\n\n\n\n\n\n\nAnalysis:\nFrom the plots above, we can observe that both the functional and nonfunctional waterpoints seem to scatter unevenly through the whole of Osun state in Nigeria. For the functional waterpoints, they seem to gather around the top of Osun state in Nigeria (north of Osun), leaving the other areas of Osun to have reduced accessibility to clean water points for consumption. For the nonfunctional waterpoints, they seem to be scattered around the whole Osun state unevenly as well, with some concentration of nonfunctional waterpoints at the top (north of Osun) and centre (Osun central).\nAdvantages of Kernel Density Map over point maps, is that it increases the visibility of the areas with higher densities of, in this case functional/nonfunctional waterpoints. Areas with higher densities of functional/nonfunctional waterpoints can be easily pin-pointed out with the darker colour intensities on the Kernel Density Map instead of having multiple points stacked together on the point maps and having to zoom in to see the actual points.\n\n\nNearest Neighbour Analysis: Clark and Evans Test\nFunctional waterpoints\n\nclarkevans.test(wp_functional_ppp,\n                correction=\"none\",\n                clipregion=\"osun_owin\",\n                alternative=c(\"clustered\"),\n                nsim=99)\n\n\n    Clark-Evans test\n    No edge correction\n    Monte Carlo test based on 99 simulations of CSR with fixed n\n\ndata:  wp_functional_ppp\nR = 0.38922, p-value = 0.01\nalternative hypothesis: clustered (R < 1)\n\n\nNonfunctional waterpoints\n\nclarkevans.test(wp_nonfunctional_ppp,\n                correction=\"none\",\n                clipregion=\"osun_owin\",\n                alternative=c(\"clustered\"),\n                nsim=99)\n\n\n    Clark-Evans test\n    No edge correction\n    Monte Carlo test based on 99 simulations of CSR with fixed n\n\ndata:  wp_nonfunctional_ppp\nR = 0.37112, p-value = 0.01\nalternative hypothesis: clustered (R < 1)"
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#second-order-spatial-point-patterns-analysis",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#second-order-spatial-point-patterns-analysis",
    "title": "Take-Home Exercise 01",
    "section": "Second-order Spatial Point Patterns Analysis",
    "text": "Second-order Spatial Point Patterns Analysis\n\nAnalysing Spatial Point Process Using L-Function\nComputing L Function estimation of Functional Waterpoints\n\nL_wp_functional = Lest(wp_functional_ppp, correction = \"Ripley\")\nplot(L_wp_functional, . -r ~ r, \n     ylab= \"L(d)-r\", xlab = \"d(m)\")\n\n\n\n\nPerforming Complete Spatial Randomness Test of Functional Waterpoints\nHypothesis:\nHo = The distribution of functional waterpoints in Osun, Nigeria are randomly distributed.\nH1= The distribution of functional waterpoints in Osun, Nigeria are not randomly distributed.\nConfidence Level:\nThe null hypothesis will be rejected if p-value if smaller than alpha value of 0.001.\n\nL_wp_functional.csr <- envelope(wp_functional_ppp, Lest, nsim = 99, rank = 1, glocal=TRUE)\n\nGenerating 99 simulations of CSR  ...\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80,\n81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98,  99.\n\nDone.\n\n\n\nplot(L_wp_functional.csr, . - r ~ r, xlab=\"d\", ylab=\"L(d)-r\")\n\n\n\n\nComputing L Function estimation of Nonfunctional Waterpoints\n\nL_wp_nonfunctional = Lest(wp_nonfunctional_ppp, correction = \"Ripley\")\nplot(L_wp_nonfunctional, . -r ~ r, \n     ylab= \"L(d)-r\", xlab = \"d(m)\")\n\n\n\n\nPerforming Complete Spatial Randomness Test of Nonfunctional Waterpoints\nHypothesis:\nHo = The distribution of non-functional waterpoints in Osun, Nigeria are randomly distributed.\nH1= The distribution of non-functional waterpoints in Osun, Nigeria are not randomly distributed.\nConfidence Level:\nThe null hypothesis will be rejected if p-value if smaller than alpha value of 0.001.\n\nL_wp_nonfunctional.csr <- envelope(wp_nonfunctional_ppp, Lest, nsim = 99, rank = 1, glocal=TRUE)\n\nGenerating 99 simulations of CSR  ...\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80,\n81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98,  99.\n\nDone.\n\n\n\nplot(L_wp_nonfunctional.csr, . - r ~ r, xlab=\"d\", ylab=\"L(d)-r\")\n\n\n\n\nAnalysis:\nThe L function for both functional and nonfunctional waterpoints have the same shape of an exponential curve. Since the L function is a form of descriptive statistics generally used to determine whether points have a random, dispersed or clustered distribution pattern at certain scale, we can conclude that there are some forms of clustering for both the functional and nonfunctional waterpoints in Osun, Nigeria, at 99% confidence interval."
  },
  {
    "objectID": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#spatial-correlation-analysis",
    "href": "Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html#spatial-correlation-analysis",
    "title": "Take-Home Exercise 01",
    "section": "Spatial Correlation Analysis",
    "text": "Spatial Correlation Analysis\nI will be analysis the co-location between the functional and non-functional water points’ distribution, using the LCLQ method.\nHypothesis:\nHo = Functional waterpoints are not co-located with nonfunctional water points.\nH1= Functional waterpoints are co-located with nonfunctional water points.\nConfidence Level:\nThe null hypothesis will be rejected if p-value if smaller than alpha value of 0.05\nInstalling package\n\npacman::p_load(tidyverse, tmap, sf, sfdep) \n\nPreparing nearest neighbours list\nDetermine the k (i.e. 6) nearest neighbours for given point geometry\n\nnb <- include_self(\n  st_knn(st_geometry(wp_sf), 6))\n\nComputing kernel weights\nDerive a weights list by using a kernel function\n\nwt <- st_kernel_weights(nb, \n                        wp_sf, \n                        \"gaussian\", \n                        adaptive = TRUE)\n\nConverting functional and nonfunctional waterpoints into vectors\n\nA <- wp_functional$`#status_clean`\nB <- wp_nonfunctional$`#status_clean`\n\nComputing LCLQ values\n\nLCLQ <- local_colocation(A,\n                         B,\n                         nb,\n                         wt,\n                         49)\n\nJoining output table\n\nLCLQ_wp <- cbind(wp_sf, LCLQ)\n\nPlotting LCLQ values\n\ntmap_mode(\"view\")\ntm_shape(LCLQ_wp)+ \n  tm_dots(col = \"Non.Functional\",\n             size = 0.01,\n             border.col = \"black\",\n          scale=0.15,\n             border.lwd = 0.5) +\n  tm_view(set.zoom.limits = c(12, 16))\n\n\n\n\n\n\nAnalysis:\nAs we can observe from the map plotted above, waterpoints with their LCLQ value of 0.7 to 1.1 (in yellow to brown) are displayed. We can conclude that our null hypothesis is true; that functional waterpoints are not co-located with nonfunctional water points in Osun state (Nigeria)."
  },
  {
    "objectID": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html",
    "href": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html",
    "title": "In-Class Exercise 04",
    "section": "",
    "text": "pacman::p_load(maptools, sf, raster, spatstat, tmap)"
  },
  {
    "objectID": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html#importing-the-spatial-data",
    "href": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html#importing-the-spatial-data",
    "title": "In-Class Exercise 04",
    "section": "Importing the spatial data",
    "text": "Importing the spatial data\n\nchildcare_sf <- st_read(\"data/child-care-services-geojson.geojson\") %>%\n  st_transform(crs = 3414)\n\nReading layer `child-care-services-geojson' from data source \n  `C:\\xinyeehow\\IS415-GAA\\In-Class_Ex\\In-Class_Ex04\\data\\child-care-services-geojson.geojson' \n  using driver `GeoJSON'\nSimple feature collection with 1545 features and 2 fields\nGeometry type: POINT\nDimension:     XYZ\nBounding box:  xmin: 103.6824 ymin: 1.248403 xmax: 103.9897 ymax: 1.462134\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\n\n\nFor shapefile –> have to define the destination (dsn)\nSVY21 usually have big numbers (in metres)\nSpatstat only can read ppp\nso if using sf packages you have to convert spatial dataframe –> generic dataframe --> ppp format (only have coordinate values/no projection headers)\n\nsg_sf <- st_read(dsn = \"data\", layer=\"CostalOutline\")\n\nReading layer `CostalOutline' from data source \n  `C:\\xinyeehow\\IS415-GAA\\In-Class_Ex\\In-Class_Ex04\\data' using driver `ESRI Shapefile'\nSimple feature collection with 60 features and 4 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 2663.926 ymin: 16357.98 xmax: 56047.79 ymax: 50244.03\nProjected CRS: SVY21\n\n\n\nmpsz_sf <- st_read(dsn = \"data\", \n                layer = \"MP14_SUBZONE_WEB_PL\")\n\nReading layer `MP14_SUBZONE_WEB_PL' from data source \n  `C:\\xinyeehow\\IS415-GAA\\In-Class_Ex\\In-Class_Ex04\\data' using driver `ESRI Shapefile'\nSimple feature collection with 323 features and 15 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21\n\n\n\nchildcare <- as_Spatial(childcare_sf)\nmpsz <- as_Spatial(mpsz_sf)\nsg <- as_Spatial(sg_sf)"
  },
  {
    "objectID": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html#converting-the-spatial-class-into-generic-sp-format",
    "href": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html#converting-the-spatial-class-into-generic-sp-format",
    "title": "In-Class Exercise 04",
    "section": "Converting the Spatial class into generic sp format",
    "text": "Converting the Spatial class into generic sp format\n\nchildcare_sp <- as(childcare, \"SpatialPoints\")\nsg_sp <- as(sg, \"SpatialPolygons\")"
  },
  {
    "objectID": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html#converting-the-generic-sp-format-into-spatstats-ppp-format",
    "href": "In-Class_Ex/In-Class_Ex04/In-Class_Ex04.html#converting-the-generic-sp-format-into-spatstats-ppp-format",
    "title": "In-Class Exercise 04",
    "section": "Converting the generic sp format into spatstat’s ppp format",
    "text": "Converting the generic sp format into spatstat’s ppp format\n\nchildcare_ppp <- as(childcare_sp, \"ppp\")\nchildcare_ppp\n\nPlanar point pattern: 1545 points\nwindow: rectangle = [11203.01, 45404.24] x [25667.6, 49300.88] units"
  }
]